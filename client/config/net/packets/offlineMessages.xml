<beans>
	
	<bean id="offlineMessagesCountOperator" class="core.external.io.StreamOperator">
		<lookup-method ref="intOperator" name="addSerializer"/> <!-- inbox count -->
		<lookup-method ref="intOperator" name="addSerializer"/> <!-- outbox count -->
	</bean>
	
	<bean id="requestOfflineMessagesOperator" class="core.external.io.StreamOperator">
		<lookup-method ref="intOperator" name="addDeserializer"/> <!-- group id -->
		<lookup-method ref="intOperator" name="addDeserializer"/> <!-- from -->
		<lookup-method ref="intOperator" name="addDeserializer"/> <!-- to -->
	</bean>
	
	<bean id="offlineMessagesCountPacket" class="core.net.packets.BytePacket">
        <property name="type" value="130"/>
        <property name="headerOperator" ref="headerOperator"/>
        <property name="streamOperator" ref="offlineMessagesCountOperator"/>
    </bean>
	
	<bean id="requestOfflineMessagesPacket" class="core.net.packets.BytePacket">
        <property name="type" value="131"/>
        <property name="headerOperator" ref="headerOperator"/>
        <property name="streamOperator" ref="requestOfflineMessagesOperator"/>
    </bean>
	
	<bean id="offlineMessagesCountEventListener" class="net.events.OfflineMessagesCountEventListener">
		<property name="type" value="130"/>
	</bean>
	

	
	
</beans>